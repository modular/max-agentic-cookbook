"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_instrument_store_RecipeStore_ts";
exports.ids = ["_instrument_store_RecipeStore_ts"];
exports.modules = {

/***/ "(instrument)/./lib/constants.ts":
/*!**************************!*\
  !*** ./lib/constants.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   cookbookRoute: () => (/* binding */ cookbookRoute),\n/* harmony export */   endpointsRoute: () => (/* binding */ endpointsRoute),\n/* harmony export */   modelsRoute: () => (/* binding */ modelsRoute),\n/* harmony export */   recipesPath: () => (/* binding */ recipesPath)\n/* harmony export */ });\n// Path to load Recipes from\nconst recipesPath = ()=>{\n    const fromEnv = process.env.NEXT_PUBLIC_RECIPES_PATH ?? \"../../packages/recipes/src\";\n    return fromEnv.replace(/\\/$/, \"\");\n};\n// Route serving the Cookbook app\nconst cookbookRoute = ()=>{\n    const fromEnv = process.env.NEXT_PUBLIC_COOKBOOK_ROUTE ?? \"/cookbook\";\n    return fromEnv.replace(/\\/$/, \"\");\n};\n// Provides the list of endpoints used by the Cookbook\n// Returns Endpoint[]\nconst endpointsRoute = process.env.NEXT_PUBLIC_COOKBOOK_ENDPOINTS_API ?? \"/api/endpoints\";\n// Proxies the selected endpoint's /models API\n// Returns Model[]\nconst modelsRoute = process.env.NEXT_PUBLIC_COOKBOOK_MODELS_API ?? \"/api/models\";\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGluc3RydW1lbnQpLy4vbGliL2NvbnN0YW50cy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsNEJBQTRCO0FBQ3JCLE1BQU1BLGNBQWM7SUFDdkIsTUFBTUMsVUFBVUMsUUFBUUMsR0FBRyxDQUFDQyx3QkFBd0IsSUFBSTtJQUN4RCxPQUFPSCxRQUFRSSxPQUFPLENBQUMsT0FBTztBQUNsQyxFQUFDO0FBRUQsaUNBQWlDO0FBQzFCLE1BQU1DLGdCQUFnQjtJQUN6QixNQUFNTCxVQUFVQyxRQUFRQyxHQUFHLENBQUNJLDBCQUEwQixJQUFJO0lBQzFELE9BQU9OLFFBQVFJLE9BQU8sQ0FBQyxPQUFPO0FBQ2xDLEVBQUM7QUFFRCxzREFBc0Q7QUFDdEQscUJBQXFCO0FBQ2QsTUFBTUcsaUJBQ1ROLFFBQVFDLEdBQUcsQ0FBQ00sa0NBQWtDLElBQUksaUJBQWdCO0FBRXRFLDhDQUE4QztBQUM5QyxrQkFBa0I7QUFDWCxNQUFNQyxjQUFjUixRQUFRQyxHQUFHLENBQUNRLCtCQUErQixJQUFJLGNBQWEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AbW9kdWxhci9jb29rYm9vay8uL2xpYi9jb25zdGFudHMudHM/MDc4ZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBQYXRoIHRvIGxvYWQgUmVjaXBlcyBmcm9tXG5leHBvcnQgY29uc3QgcmVjaXBlc1BhdGggPSAoKSA9PiB7XG4gICAgY29uc3QgZnJvbUVudiA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1JFQ0lQRVNfUEFUSCA/PyAnLi4vLi4vcGFja2FnZXMvcmVjaXBlcy9zcmMnXG4gICAgcmV0dXJuIGZyb21FbnYucmVwbGFjZSgvXFwvJC8sICcnKVxufVxuXG4vLyBSb3V0ZSBzZXJ2aW5nIHRoZSBDb29rYm9vayBhcHBcbmV4cG9ydCBjb25zdCBjb29rYm9va1JvdXRlID0gKCkgPT4ge1xuICAgIGNvbnN0IGZyb21FbnYgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19DT09LQk9PS19ST1VURSA/PyAnL2Nvb2tib29rJ1xuICAgIHJldHVybiBmcm9tRW52LnJlcGxhY2UoL1xcLyQvLCAnJylcbn1cblxuLy8gUHJvdmlkZXMgdGhlIGxpc3Qgb2YgZW5kcG9pbnRzIHVzZWQgYnkgdGhlIENvb2tib29rXG4vLyBSZXR1cm5zIEVuZHBvaW50W11cbmV4cG9ydCBjb25zdCBlbmRwb2ludHNSb3V0ZSA9XG4gICAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQ09PS0JPT0tfRU5EUE9JTlRTX0FQSSA/PyAnL2FwaS9lbmRwb2ludHMnXG5cbi8vIFByb3hpZXMgdGhlIHNlbGVjdGVkIGVuZHBvaW50J3MgL21vZGVscyBBUElcbi8vIFJldHVybnMgTW9kZWxbXVxuZXhwb3J0IGNvbnN0IG1vZGVsc1JvdXRlID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQ09PS0JPT0tfTU9ERUxTX0FQSSA/PyAnL2FwaS9tb2RlbHMnXG4iXSwibmFtZXMiOlsicmVjaXBlc1BhdGgiLCJmcm9tRW52IiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1JFQ0lQRVNfUEFUSCIsInJlcGxhY2UiLCJjb29rYm9va1JvdXRlIiwiTkVYVF9QVUJMSUNfQ09PS0JPT0tfUk9VVEUiLCJlbmRwb2ludHNSb3V0ZSIsIk5FWFRfUFVCTElDX0NPT0tCT09LX0VORFBPSU5UU19BUEkiLCJtb2RlbHNSb3V0ZSIsIk5FWFRfUFVCTElDX0NPT0tCT09LX01PREVMU19BUEkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(instrument)/./lib/constants.ts\n");

/***/ }),

/***/ "(instrument)/./lib/prepareModel.ts":
/*!*****************************!*\
  !*** ./lib/prepareModel.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ModelPreparationError: () => (/* reexport safe */ _modular_recipe_sdk_prepareModel__WEBPACK_IMPORTED_MODULE_0__.ModelPreparationError),\n/* harmony export */   prepareModel: () => (/* binding */ prepareModel)\n/* harmony export */ });\n/* harmony import */ var _modular_recipe_sdk_prepareModel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @modular/recipe-sdk/prepareModel */ \"(instrument)/../../packages/recipe-sdk/src/prepareModel.ts\");\n/* harmony import */ var _store_EndpointStore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/store/EndpointStore */ \"(instrument)/./store/EndpointStore.ts\");\n\n\n\n/**\n * Wrapper around recipe-sdk's createModelClient that looks up endpoint data from the store.\n * This is used by recipe API handlers to prepare models.\n */ async function prepareModel(endpointId, modelName) {\n    if (!endpointId || !modelName) {\n        throw new _modular_recipe_sdk_prepareModel__WEBPACK_IMPORTED_MODULE_0__.ModelPreparationError(400, \"Client did not provide endpointId and/or modelName\");\n    }\n    // Look up API key and base URL for the given endpoint ID\n    let apiKey, baseURL;\n    try {\n        apiKey = _store_EndpointStore__WEBPACK_IMPORTED_MODULE_1__[\"default\"].apiKey(endpointId);\n        baseURL = _store_EndpointStore__WEBPACK_IMPORTED_MODULE_1__[\"default\"].baseUrl(endpointId);\n    } catch (error) {\n        const errorMessage = error instanceof Error ? `- ${error.message}` : \"\";\n        throw new _modular_recipe_sdk_prepareModel__WEBPACK_IMPORTED_MODULE_0__.ModelPreparationError(424, `Unable to obtain apiKey and/or baseURL for endpoint ${endpointId} ${errorMessage}`);\n    }\n    // Use createModelClient from recipe-sdk\n    return await (0,_modular_recipe_sdk_prepareModel__WEBPACK_IMPORTED_MODULE_0__.createModelClient)(baseURL, apiKey, modelName);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGluc3RydW1lbnQpLy4vbGliL3ByZXBhcmVNb2RlbC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQTJGO0FBQzFDO0FBRWpCO0FBRWhDOzs7Q0FHQyxHQUNNLGVBQWVHLGFBQ2xCQyxVQUE4QixFQUM5QkMsU0FBNkI7SUFFN0IsSUFBSSxDQUFDRCxjQUFjLENBQUNDLFdBQVc7UUFDM0IsTUFBTSxJQUFJSixtRkFBcUJBLENBQzNCLEtBQ0E7SUFFUjtJQUVBLHlEQUF5RDtJQUN6RCxJQUFJSyxRQUFRQztJQUNaLElBQUk7UUFDQUQsU0FBU0osNERBQWFBLENBQUNJLE1BQU0sQ0FBQ0Y7UUFDOUJHLFVBQVVMLDREQUFhQSxDQUFDTSxPQUFPLENBQUNKO0lBQ3BDLEVBQUUsT0FBT0ssT0FBTztRQUNaLE1BQU1DLGVBQWVELGlCQUFpQkUsUUFBUSxDQUFDLEVBQUUsRUFBRUYsTUFBTUcsT0FBTyxDQUFDLENBQUMsR0FBRztRQUNyRSxNQUFNLElBQUlYLG1GQUFxQkEsQ0FDM0IsS0FDQSxDQUFDLG9EQUFvRCxFQUFFRyxXQUFXLENBQUMsRUFBRU0sYUFBYSxDQUFDO0lBRTNGO0lBRUEsd0NBQXdDO0lBQ3hDLE9BQU8sTUFBTVYsbUZBQWlCQSxDQUFDTyxTQUFTRCxRQUFRRDtBQUNwRCIsInNvdXJjZXMiOlsid2VicGFjazovL0Btb2R1bGFyL2Nvb2tib29rLy4vbGliL3ByZXBhcmVNb2RlbC50cz8xMzgwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZU1vZGVsQ2xpZW50LCBNb2RlbFByZXBhcmF0aW9uRXJyb3IgfSBmcm9tICdAbW9kdWxhci9yZWNpcGUtc2RrL3ByZXBhcmVNb2RlbCdcbmltcG9ydCBlbmRwb2ludFN0b3JlIGZyb20gJ0Avc3RvcmUvRW5kcG9pbnRTdG9yZSdcblxuZXhwb3J0IHsgTW9kZWxQcmVwYXJhdGlvbkVycm9yIH1cblxuLyoqXG4gKiBXcmFwcGVyIGFyb3VuZCByZWNpcGUtc2RrJ3MgY3JlYXRlTW9kZWxDbGllbnQgdGhhdCBsb29rcyB1cCBlbmRwb2ludCBkYXRhIGZyb20gdGhlIHN0b3JlLlxuICogVGhpcyBpcyB1c2VkIGJ5IHJlY2lwZSBBUEkgaGFuZGxlcnMgdG8gcHJlcGFyZSBtb2RlbHMuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwcmVwYXJlTW9kZWwoXG4gICAgZW5kcG9pbnRJZDogc3RyaW5nIHwgdW5kZWZpbmVkLFxuICAgIG1vZGVsTmFtZTogc3RyaW5nIHwgdW5kZWZpbmVkXG4pIHtcbiAgICBpZiAoIWVuZHBvaW50SWQgfHwgIW1vZGVsTmFtZSkge1xuICAgICAgICB0aHJvdyBuZXcgTW9kZWxQcmVwYXJhdGlvbkVycm9yKFxuICAgICAgICAgICAgNDAwLFxuICAgICAgICAgICAgJ0NsaWVudCBkaWQgbm90IHByb3ZpZGUgZW5kcG9pbnRJZCBhbmQvb3IgbW9kZWxOYW1lJ1xuICAgICAgICApXG4gICAgfVxuXG4gICAgLy8gTG9vayB1cCBBUEkga2V5IGFuZCBiYXNlIFVSTCBmb3IgdGhlIGdpdmVuIGVuZHBvaW50IElEXG4gICAgbGV0IGFwaUtleSwgYmFzZVVSTFxuICAgIHRyeSB7XG4gICAgICAgIGFwaUtleSA9IGVuZHBvaW50U3RvcmUuYXBpS2V5KGVuZHBvaW50SWQpXG4gICAgICAgIGJhc2VVUkwgPSBlbmRwb2ludFN0b3JlLmJhc2VVcmwoZW5kcG9pbnRJZClcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gYC0gJHtlcnJvci5tZXNzYWdlfWAgOiAnJ1xuICAgICAgICB0aHJvdyBuZXcgTW9kZWxQcmVwYXJhdGlvbkVycm9yKFxuICAgICAgICAgICAgNDI0LFxuICAgICAgICAgICAgYFVuYWJsZSB0byBvYnRhaW4gYXBpS2V5IGFuZC9vciBiYXNlVVJMIGZvciBlbmRwb2ludCAke2VuZHBvaW50SWR9ICR7ZXJyb3JNZXNzYWdlfWBcbiAgICAgICAgKVxuICAgIH1cblxuICAgIC8vIFVzZSBjcmVhdGVNb2RlbENsaWVudCBmcm9tIHJlY2lwZS1zZGtcbiAgICByZXR1cm4gYXdhaXQgY3JlYXRlTW9kZWxDbGllbnQoYmFzZVVSTCwgYXBpS2V5LCBtb2RlbE5hbWUpXG59XG4iXSwibmFtZXMiOlsiY3JlYXRlTW9kZWxDbGllbnQiLCJNb2RlbFByZXBhcmF0aW9uRXJyb3IiLCJlbmRwb2ludFN0b3JlIiwicHJlcGFyZU1vZGVsIiwiZW5kcG9pbnRJZCIsIm1vZGVsTmFtZSIsImFwaUtleSIsImJhc2VVUkwiLCJiYXNlVXJsIiwiZXJyb3IiLCJlcnJvck1lc3NhZ2UiLCJFcnJvciIsIm1lc3NhZ2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(instrument)/./lib/prepareModel.ts\n");

/***/ }),

/***/ "(instrument)/./store/EndpointStore.ts":
/*!********************************!*\
  !*** ./store/EndpointStore.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n// Store endpoints server-side in memory to access them across routes\nclass EndpointStore {\n    getAll() {\n        return this.endpoints;\n    }\n    set(newEndpoints) {\n        this.endpoints = newEndpoints;\n    }\n    apiKey(endpointId) {\n        const endpoint = this.endpoints?.find((e)=>e.id === endpointId);\n        return endpoint?.apiKey;\n    }\n    baseUrl(endpointId) {\n        const endpoint = this.endpoints?.find((e)=>e.id === endpointId);\n        return endpoint?.baseUrl;\n    }\n    constructor(){\n        this.endpoints = null;\n    }\n}\n// Prevent multiple instances of store in development\nconst endpointStore = globalThis.endpointStore || new EndpointStore();\nif (true) {\n    globalThis.endpointStore = endpointStore;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (endpointStore);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGluc3RydW1lbnQpLy4vc3RvcmUvRW5kcG9pbnRTdG9yZS50cyIsIm1hcHBpbmdzIjoiOzs7O0FBU0EscUVBQXFFO0FBQ3JFLE1BQU1BO0lBR0ZDLFNBQThCO1FBQzFCLE9BQU8sSUFBSSxDQUFDQyxTQUFTO0lBQ3pCO0lBRUFDLElBQUlDLFlBQWlDLEVBQUU7UUFDbkMsSUFBSSxDQUFDRixTQUFTLEdBQUdFO0lBQ3JCO0lBRUFDLE9BQU9DLFVBQXFDLEVBQXNCO1FBQzlELE1BQU1DLFdBQVcsSUFBSSxDQUFDTCxTQUFTLEVBQUVNLEtBQUssQ0FBQ0MsSUFBTUEsRUFBRUMsRUFBRSxLQUFLSjtRQUN0RCxPQUFPQyxVQUFVRjtJQUNyQjtJQUVBTSxRQUFRTCxVQUFxQyxFQUFzQjtRQUMvRCxNQUFNQyxXQUFXLElBQUksQ0FBQ0wsU0FBUyxFQUFFTSxLQUFLLENBQUNDLElBQU1BLEVBQUVDLEVBQUUsS0FBS0o7UUFDdEQsT0FBT0MsVUFBVUk7SUFDckI7O2FBbEJRVCxZQUFpQzs7QUFtQjdDO0FBUUEscURBQXFEO0FBQ3JELE1BQU1VLGdCQUFnQkMsV0FBV0QsYUFBYSxJQUFJLElBQUlaO0FBQ3RELElBQUljLElBQXlCLEVBQWM7SUFDdkNELFdBQVdELGFBQWEsR0FBR0E7QUFDL0I7QUFFQSxpRUFBZUEsYUFBYUEsRUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL0Btb2R1bGFyL2Nvb2tib29rLy4vc3RvcmUvRW5kcG9pbnRTdG9yZS50cz80MTZlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEVuZHBvaW50IH0gZnJvbSAnQG1vZHVsYXIvcmVjaXBlLXNkay90eXBlcydcblxuLy8gT25seSBzdG9yZSB0aGUgQVBJIGtleSBzZXJ2ZXIgc2lkZVxuaW50ZXJmYWNlIEVuZHBvaW50V2l0aEFwaUtleSBleHRlbmRzIEVuZHBvaW50IHtcbiAgICBhcGlLZXk6IHN0cmluZ1xufVxuXG50eXBlIFNlcnZlclNpZGVFbmRwb2ludHMgPSBFbmRwb2ludFdpdGhBcGlLZXlbXSB8IG51bGxcblxuLy8gU3RvcmUgZW5kcG9pbnRzIHNlcnZlci1zaWRlIGluIG1lbW9yeSB0byBhY2Nlc3MgdGhlbSBhY3Jvc3Mgcm91dGVzXG5jbGFzcyBFbmRwb2ludFN0b3JlIHtcbiAgICBwcml2YXRlIGVuZHBvaW50czogU2VydmVyU2lkZUVuZHBvaW50cyA9IG51bGxcblxuICAgIGdldEFsbCgpOiBTZXJ2ZXJTaWRlRW5kcG9pbnRzIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZW5kcG9pbnRzXG4gICAgfVxuXG4gICAgc2V0KG5ld0VuZHBvaW50czogU2VydmVyU2lkZUVuZHBvaW50cykge1xuICAgICAgICB0aGlzLmVuZHBvaW50cyA9IG5ld0VuZHBvaW50c1xuICAgIH1cblxuICAgIGFwaUtleShlbmRwb2ludElkOiBzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgY29uc3QgZW5kcG9pbnQgPSB0aGlzLmVuZHBvaW50cz8uZmluZCgoZSkgPT4gZS5pZCA9PT0gZW5kcG9pbnRJZClcbiAgICAgICAgcmV0dXJuIGVuZHBvaW50Py5hcGlLZXlcbiAgICB9XG5cbiAgICBiYXNlVXJsKGVuZHBvaW50SWQ6IHN0cmluZyB8IG51bGwgfCB1bmRlZmluZWQpOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICAgICAgICBjb25zdCBlbmRwb2ludCA9IHRoaXMuZW5kcG9pbnRzPy5maW5kKChlKSA9PiBlLmlkID09PSBlbmRwb2ludElkKVxuICAgICAgICByZXR1cm4gZW5kcG9pbnQ/LmJhc2VVcmxcbiAgICB9XG59XG5cbi8vIEFkZCBzdG9yZSB0byB0aGUgTm9kZUpTIGdsb2JhbCB0eXBlXG5kZWNsYXJlIGdsb2JhbCB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXZhclxuICAgIHZhciBlbmRwb2ludFN0b3JlOiBFbmRwb2ludFN0b3JlIHwgdW5kZWZpbmVkXG59XG5cbi8vIFByZXZlbnQgbXVsdGlwbGUgaW5zdGFuY2VzIG9mIHN0b3JlIGluIGRldmVsb3BtZW50XG5jb25zdCBlbmRwb2ludFN0b3JlID0gZ2xvYmFsVGhpcy5lbmRwb2ludFN0b3JlIHx8IG5ldyBFbmRwb2ludFN0b3JlKClcbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgZ2xvYmFsVGhpcy5lbmRwb2ludFN0b3JlID0gZW5kcG9pbnRTdG9yZVxufVxuXG5leHBvcnQgZGVmYXVsdCBlbmRwb2ludFN0b3JlXG4iXSwibmFtZXMiOlsiRW5kcG9pbnRTdG9yZSIsImdldEFsbCIsImVuZHBvaW50cyIsInNldCIsIm5ld0VuZHBvaW50cyIsImFwaUtleSIsImVuZHBvaW50SWQiLCJlbmRwb2ludCIsImZpbmQiLCJlIiwiaWQiLCJiYXNlVXJsIiwiZW5kcG9pbnRTdG9yZSIsImdsb2JhbFRoaXMiLCJwcm9jZXNzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(instrument)/./store/EndpointStore.ts\n");

/***/ }),

/***/ "(instrument)/./store/RecipeStore.ts":
/*!******************************!*\
  !*** ./store/RecipeStore.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _lib_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/constants */ \"(instrument)/./lib/constants.ts\");\n/* harmony import */ var _modular_recipes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @modular/recipes */ \"(instrument)/../../packages/recipes/index.ts\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\nclass RecipeStore {\n    constructor(){\n        this.recipes = null;\n        this.componentCache = new Map();\n        this.handlerCache = new Map();\n        const recipePath = path__WEBPACK_IMPORTED_MODULE_2___default().join(process.cwd(), (0,_lib_constants__WEBPACK_IMPORTED_MODULE_0__.recipesPath)());\n        this.path = recipePath;\n        this.recipes = this.loadRecipes(recipePath);\n    }\n    recipePath() {\n        return this.path;\n    }\n    getAll() {\n        return this.recipes;\n    }\n    async getHandler(slug) {\n        return await this.getRecipeContent(\"api\", this.handlerCache, slug);\n    }\n    async getComponent(slug) {\n        return await this.getRecipeContent(\"ui\", this.componentCache, slug);\n    }\n    async getRecipeContent(type, cache, slug) {\n        if (!slug) return null;\n        const cached = cache.get(slug);\n        if (cached) return cached;\n        try {\n            const recipe = _modular_recipes__WEBPACK_IMPORTED_MODULE_1__.recipeRegistry[slug];\n            if (!recipe) {\n                console.warn(`Recipe not found in registry: ${slug}`);\n                return null;\n            }\n            const content = recipe[type];\n            if (content) {\n                cache.set(slug, content);\n            }\n            return content;\n        } catch (error) {\n            console.warn(`Failed loading recipe ${type} for slug: ${slug}`, error);\n            return null;\n        }\n    }\n    loadRecipes(base) {\n        console.log(\"Loading recipes from\", base);\n        const dirs = fs__WEBPACK_IMPORTED_MODULE_3___default().readdirSync(base, {\n            withFileTypes: true\n        }).filter((d)=>d.isDirectory()).map((d)=>d.name);\n        console.log(\"Found recipes in\", dirs);\n        const data = dirs.map((d)=>{\n            try {\n                const jsonPath = path__WEBPACK_IMPORTED_MODULE_2___default().join(base, d, \"recipe.json\");\n                const fePath = path__WEBPACK_IMPORTED_MODULE_2___default().join(base, d, \"ui.tsx\");\n                const bePath = path__WEBPACK_IMPORTED_MODULE_2___default().join(base, d, \"api.ts\");\n                if (!fs__WEBPACK_IMPORTED_MODULE_3___default().statSync(jsonPath).isFile()) return null;\n                const meta = JSON.parse(fs__WEBPACK_IMPORTED_MODULE_3___default().readFileSync(jsonPath, \"utf8\"));\n                let feCode;\n                if (fs__WEBPACK_IMPORTED_MODULE_3___default().statSync(fePath).isFile()) {\n                    feCode = fs__WEBPACK_IMPORTED_MODULE_3___default().readFileSync(fePath, \"utf8\");\n                }\n                let beCode;\n                if (fs__WEBPACK_IMPORTED_MODULE_3___default().statSync(bePath).isFile()) {\n                    beCode = fs__WEBPACK_IMPORTED_MODULE_3___default().readFileSync(bePath, \"utf8\");\n                }\n                return {\n                    slug: d,\n                    meta,\n                    feCode,\n                    beCode\n                };\n            } catch  {\n                return null;\n            }\n        });\n        const recipes = data.filter((r)=>r !== null).map(({ slug, meta, feCode, beCode })=>({\n                slug,\n                title: typeof meta?.title === \"string\" ? meta.title : \"\",\n                description: typeof meta?.description === \"string\" ? meta.description : \"\",\n                feCode,\n                beCode\n            }));\n        console.log(`Built metadata for ${recipes.length} recipes`);\n        return recipes;\n    }\n}\n// Prevent multiple instances of store in development\nconst recipeStore = globalThis.recipeStore || new RecipeStore();\nif (true) {\n    globalThis.recipeStore = recipeStore;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (recipeStore);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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b0JBQUUxQixNQUFNbUI7b0JBQUdVO29CQUFNSTtvQkFBUUM7Z0JBQU87WUFDM0MsRUFBRSxPQUFNO2dCQUNKLE9BQU87WUFDWDtRQUNKO1FBRUEsTUFBTTdDLFVBQTRCa0MsS0FDN0JMLE1BQU0sQ0FBQyxDQUFDaUIsSUFBTUEsTUFBTSxNQUNwQmQsR0FBRyxDQUFDLENBQUMsRUFBRXJCLElBQUksRUFBRTZCLElBQUksRUFBRUksTUFBTSxFQUFFQyxNQUFNLEVBQUUsR0FBTTtnQkFDdENsQztnQkFDQW9DLE9BQU8sT0FBT1AsTUFBTU8sVUFBVSxXQUFXUCxLQUFLTyxLQUFLLEdBQUc7Z0JBQ3REQyxhQUNJLE9BQU9SLE1BQU1RLGdCQUFnQixXQUFXUixLQUFLUSxXQUFXLEdBQUc7Z0JBQy9ESjtnQkFDQUM7WUFDSjtRQUVKMUIsUUFBUU0sR0FBRyxDQUFDLENBQUMsbUJBQW1CLEVBQUV6QixRQUFRaUQsTUFBTSxDQUFDLFFBQVEsQ0FBQztRQUMxRCxPQUFPakQ7SUFDWDtBQUNKO0FBUUEscURBQXFEO0FBQ3JELE1BQU1rRCxjQUFjQyxXQUFXRCxXQUFXLElBQUksSUFBSXBEO0FBQ2xELElBQUlRLElBQXlCLEVBQWM7SUFDdkM2QyxXQUFXRCxXQUFXLEdBQUdBO0FBQzdCO0FBRUEsaUVBQWVBLFdBQVdBLEVBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AbW9kdWxhci9jb29rYm9vay8uL3N0b3JlL1JlY2lwZVN0b3JlLnRzPzJlMzkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUmVjaXBlTWV0YWRhdGEgfSBmcm9tICdAbW9kdWxhci9yZWNpcGUtc2RrL3R5cGVzJ1xuaW1wb3J0IHsgcmVjaXBlc1BhdGggfSBmcm9tICdAL2xpYi9jb25zdGFudHMnXG5pbXBvcnQgeyByZWNpcGVSZWdpc3RyeSB9IGZyb20gJ0Btb2R1bGFyL3JlY2lwZXMnXG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJ1xuaW1wb3J0IGZzIGZyb20gJ2ZzJ1xuaW1wb3J0IHR5cGUgeyBDb21wb25lbnRUeXBlIH0gZnJvbSAncmVhY3QnXG5cbnR5cGUgUmVjaXBlSGFuZGxlciA9IChyZXE6IFJlcXVlc3QpID0+IFJlc3BvbnNlIHwgUHJvbWlzZTxSZXNwb25zZT5cblxuY2xhc3MgUmVjaXBlU3RvcmUge1xuICAgIHByaXZhdGUgcmVjaXBlczogUmVjaXBlTWV0YWRhdGFbXSB8IG51bGwgPSBudWxsXG4gICAgcHJpdmF0ZSBwYXRoOiBzdHJpbmdcbiAgICBwcml2YXRlIGNvbXBvbmVudENhY2hlID0gbmV3IE1hcDxzdHJpbmcsIENvbXBvbmVudFR5cGU+KClcbiAgICBwcml2YXRlIGhhbmRsZXJDYWNoZSA9IG5ldyBNYXA8c3RyaW5nLCBSZWNpcGVIYW5kbGVyPigpXG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgY29uc3QgcmVjaXBlUGF0aCA9IHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCByZWNpcGVzUGF0aCgpKVxuICAgICAgICB0aGlzLnBhdGggPSByZWNpcGVQYXRoXG4gICAgICAgIHRoaXMucmVjaXBlcyA9IHRoaXMubG9hZFJlY2lwZXMocmVjaXBlUGF0aClcbiAgICB9XG5cbiAgICByZWNpcGVQYXRoKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhdGhcbiAgICB9XG5cbiAgICBnZXRBbGwoKTogUmVjaXBlTWV0YWRhdGFbXSB8IG51bGwge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWNpcGVzXG4gICAgfVxuXG4gICAgYXN5bmMgZ2V0SGFuZGxlcihzbHVnOiBzdHJpbmcgfCB1bmRlZmluZWQpOiBQcm9taXNlPFJlY2lwZUhhbmRsZXIgfCBudWxsPiB7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmdldFJlY2lwZUNvbnRlbnQoJ2FwaScsIHRoaXMuaGFuZGxlckNhY2hlLCBzbHVnKVxuICAgIH1cblxuICAgIGFzeW5jIGdldENvbXBvbmVudChzbHVnOiBzdHJpbmcgfCB1bmRlZmluZWQpOiBQcm9taXNlPENvbXBvbmVudFR5cGUgfCBudWxsPiB7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmdldFJlY2lwZUNvbnRlbnQoJ3VpJywgdGhpcy5jb21wb25lbnRDYWNoZSwgc2x1ZylcbiAgICB9XG5cbiAgICBhc3luYyBnZXRSZWNpcGVDb250ZW50PFQ+KFxuICAgICAgICB0eXBlOiAndWknIHwgJ2FwaScsXG4gICAgICAgIGNhY2hlOiBNYXA8c3RyaW5nLCBUPixcbiAgICAgICAgc2x1Zzogc3RyaW5nIHwgdW5kZWZpbmVkXG4gICAgKTogUHJvbWlzZTxUIHwgbnVsbD4ge1xuICAgICAgICBpZiAoIXNsdWcpIHJldHVybiBudWxsXG5cbiAgICAgICAgY29uc3QgY2FjaGVkID0gY2FjaGUuZ2V0KHNsdWcpXG4gICAgICAgIGlmIChjYWNoZWQpIHJldHVybiBjYWNoZWRcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVjaXBlID0gcmVjaXBlUmVnaXN0cnlbc2x1Z11cbiAgICAgICAgICAgIGlmICghcmVjaXBlKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBSZWNpcGUgbm90IGZvdW5kIGluIHJlZ2lzdHJ5OiAke3NsdWd9YClcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBjb250ZW50ID0gcmVjaXBlW3R5cGVdIGFzIFRcbiAgICAgICAgICAgIGlmIChjb250ZW50KSB7XG4gICAgICAgICAgICAgICAgY2FjaGUuc2V0KHNsdWcsIGNvbnRlbnQpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBjb250ZW50XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYEZhaWxlZCBsb2FkaW5nIHJlY2lwZSAke3R5cGV9IGZvciBzbHVnOiAke3NsdWd9YCwgZXJyb3IpXG4gICAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBsb2FkUmVjaXBlcyhiYXNlOiBzdHJpbmcpOiBSZWNpcGVNZXRhZGF0YVtdIHtcbiAgICAgICAgY29uc29sZS5sb2coJ0xvYWRpbmcgcmVjaXBlcyBmcm9tJywgYmFzZSlcblxuICAgICAgICBjb25zdCBkaXJzID0gZnNcbiAgICAgICAgICAgIC5yZWFkZGlyU3luYyhiYXNlLCB7IHdpdGhGaWxlVHlwZXM6IHRydWUgfSlcbiAgICAgICAgICAgIC5maWx0ZXIoKGQpID0+IGQuaXNEaXJlY3RvcnkoKSlcbiAgICAgICAgICAgIC5tYXAoKGQpID0+IGQubmFtZSlcblxuICAgICAgICBjb25zb2xlLmxvZygnRm91bmQgcmVjaXBlcyBpbicsIGRpcnMpXG5cbiAgICAgICAgY29uc3QgZGF0YSA9IGRpcnMubWFwKChkKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGpzb25QYXRoID0gcGF0aC5qb2luKGJhc2UsIGQsICdyZWNpcGUuanNvbicpXG4gICAgICAgICAgICAgICAgY29uc3QgZmVQYXRoID0gcGF0aC5qb2luKGJhc2UsIGQsICd1aS50c3gnKVxuICAgICAgICAgICAgICAgIGNvbnN0IGJlUGF0aCA9IHBhdGguam9pbihiYXNlLCBkLCAnYXBpLnRzJylcbiAgICAgICAgICAgICAgICBpZiAoIWZzLnN0YXRTeW5jKGpzb25QYXRoKS5pc0ZpbGUoKSkgcmV0dXJuIG51bGxcbiAgICAgICAgICAgICAgICBjb25zdCBtZXRhID0gSlNPTi5wYXJzZShmcy5yZWFkRmlsZVN5bmMoanNvblBhdGgsICd1dGY4JykpXG5cbiAgICAgICAgICAgICAgICBsZXQgZmVDb2RlXG4gICAgICAgICAgICAgICAgaWYgKGZzLnN0YXRTeW5jKGZlUGF0aCkuaXNGaWxlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgZmVDb2RlID0gZnMucmVhZEZpbGVTeW5jKGZlUGF0aCwgJ3V0ZjgnKVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGxldCBiZUNvZGVcbiAgICAgICAgICAgICAgICBpZiAoZnMuc3RhdFN5bmMoYmVQYXRoKS5pc0ZpbGUoKSkge1xuICAgICAgICAgICAgICAgICAgICBiZUNvZGUgPSBmcy5yZWFkRmlsZVN5bmMoYmVQYXRoLCAndXRmOCcpXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgc2x1ZzogZCwgbWV0YSwgZmVDb2RlLCBiZUNvZGUgfVxuICAgICAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcblxuICAgICAgICBjb25zdCByZWNpcGVzOiBSZWNpcGVNZXRhZGF0YVtdID0gZGF0YVxuICAgICAgICAgICAgLmZpbHRlcigocikgPT4gciAhPT0gbnVsbClcbiAgICAgICAgICAgIC5tYXAoKHsgc2x1ZywgbWV0YSwgZmVDb2RlLCBiZUNvZGUgfSkgPT4gKHtcbiAgICAgICAgICAgICAgICBzbHVnLFxuICAgICAgICAgICAgICAgIHRpdGxlOiB0eXBlb2YgbWV0YT8udGl0bGUgPT09ICdzdHJpbmcnID8gbWV0YS50aXRsZSA6ICcnLFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOlxuICAgICAgICAgICAgICAgICAgICB0eXBlb2YgbWV0YT8uZGVzY3JpcHRpb24gPT09ICdzdHJpbmcnID8gbWV0YS5kZXNjcmlwdGlvbiA6ICcnLFxuICAgICAgICAgICAgICAgIGZlQ29kZSxcbiAgICAgICAgICAgICAgICBiZUNvZGUsXG4gICAgICAgICAgICB9KSlcblxuICAgICAgICBjb25zb2xlLmxvZyhgQnVpbHQgbWV0YWRhdGEgZm9yICR7cmVjaXBlcy5sZW5ndGh9IHJlY2lwZXNgKVxuICAgICAgICByZXR1cm4gcmVjaXBlc1xuICAgIH1cbn1cblxuLy8gQWRkIHN0b3JlIHRvIHRoZSBOb2RlSlMgZ2xvYmFsIHR5cGVcbmRlY2xhcmUgZ2xvYmFsIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdmFyXG4gICAgdmFyIHJlY2lwZVN0b3JlOiBSZWNpcGVTdG9yZSB8IHVuZGVmaW5lZFxufVxuXG4vLyBQcmV2ZW50IG11bHRpcGxlIGluc3RhbmNlcyBvZiBzdG9yZSBpbiBkZXZlbG9wbWVudFxuY29uc3QgcmVjaXBlU3RvcmUgPSBnbG9iYWxUaGlzLnJlY2lwZVN0b3JlIHx8IG5ldyBSZWNpcGVTdG9yZSgpXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGdsb2JhbFRoaXMucmVjaXBlU3RvcmUgPSByZWNpcGVTdG9yZVxufVxuXG5leHBvcnQgZGVmYXVsdCByZWNpcGVTdG9yZVxuIl0sIm5hbWVzIjpbInJlY2lwZXNQYXRoIiwicmVjaXBlUmVnaXN0cnkiLCJwYXRoIiwiZnMiLCJSZWNpcGVTdG9yZSIsImNvbnN0cnVjdG9yIiwicmVjaXBlcyIsImNvbXBvbmVudENhY2hlIiwiTWFwIiwiaGFuZGxlckNhY2hlIiwicmVjaXBlUGF0aCIsImpvaW4iLCJwcm9jZXNzIiwiY3dkIiwibG9hZFJlY2lwZXMiLCJnZXRBbGwiLCJnZXRIYW5kbGVyIiwic2x1ZyIsImdldFJlY2lwZUNvbnRlbnQiLCJnZXRDb21wb25lbnQiLCJ0eXBlIiwiY2FjaGUiLCJjYWNoZWQiLCJnZXQiLCJyZWNpcGUiLCJjb25zb2xlIiwid2FybiIsImNvbnRlbnQiLCJzZXQiLCJlcnJvciIsImJhc2UiLCJsb2ciLCJkaXJzIiwicmVhZGRpclN5bmMiLCJ3aXRoRmlsZVR5cGVzIiwiZmlsdGVyIiwiZCIsImlzRGlyZWN0b3J5IiwibWFwIiwibmFtZSIsImRhdGEiLCJqc29uUGF0aCIsImZlUGF0aCIsImJlUGF0aCIsInN0YXRTeW5jIiwiaXNGaWxlIiwibWV0YSIsIkpTT04iLCJwYXJzZSIsInJlYWRGaWxlU3luYyIsImZlQ29kZSIsImJlQ29kZSIsInIiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwibGVuZ3RoIiwicmVjaXBlU3RvcmUiLCJnbG9iYWxUaGlzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(instrument)/./store/RecipeStore.ts\n");

/***/ }),

/***/ "(instrument)/../../packages/recipe-sdk/src/prepareModel.ts":
/*!*****************************************************!*\
  !*** ../../packages/recipe-sdk/src/prepareModel.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ModelPreparationError: () => (/* binding */ ModelPreparationError),\n/* harmony export */   createModelClient: () => (/* binding */ createModelClient)\n/* harmony export */ });\n/* harmony import */ var _ai_sdk_openai__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ai-sdk/openai */ \"(instrument)/../../node_modules/.pnpm/@ai-sdk+openai@2.0.44_zod@3.25.76/node_modules/@ai-sdk/openai/dist/index.mjs\");\n\nclass ModelPreparationError extends Error {\n    constructor(status, message){\n        super(message);\n        this.name = \"ModelPreparationError\";\n        this.status = status;\n    }\n}\nasync function createModelClient(baseUrl, apiKey, modelName) {\n    if (!baseUrl || !apiKey || !modelName) {\n        throw new ModelPreparationError(400, \"Must provide baseUrl, apiKey, and modelName\");\n    }\n    // Obtain an OpenAI-compatible model provider\n    let model;\n    try {\n        // `openai.chat(model)` returns a model chat completions handle\n        const client = (0,_ai_sdk_openai__WEBPACK_IMPORTED_MODULE_0__.createOpenAI)({\n            baseURL: baseUrl,\n            apiKey\n        });\n        model = client.chat(modelName);\n    } catch (error) {\n        const errorMessage = error instanceof Error ? `(${error.message})` : \"\";\n        throw new ModelPreparationError(502, `Problem obtaining model provider ${errorMessage}`);\n    }\n    return model;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGluc3RydW1lbnQpLy4uLy4uL3BhY2thZ2VzL3JlY2lwZS1zZGsvc3JjL3ByZXBhcmVNb2RlbC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBNkM7QUFFdEMsTUFBTUMsOEJBQThCQztJQUd2Q0MsWUFBWUMsTUFBYyxFQUFFQyxPQUFlLENBQUU7UUFDekMsS0FBSyxDQUFDQTtRQUNOLElBQUksQ0FBQ0MsSUFBSSxHQUFHO1FBQ1osSUFBSSxDQUFDRixNQUFNLEdBQUdBO0lBQ2xCO0FBQ0o7QUFFTyxlQUFlRyxrQkFDbEJDLE9BQTJCLEVBQzNCQyxNQUEwQixFQUMxQkMsU0FBNkI7SUFFN0IsSUFBSSxDQUFDRixXQUFXLENBQUNDLFVBQVUsQ0FBQ0MsV0FBVztRQUNuQyxNQUFNLElBQUlULHNCQUNOLEtBQ0E7SUFFUjtJQUVBLDZDQUE2QztJQUM3QyxJQUFJVTtJQUNKLElBQUk7UUFDQSwrREFBK0Q7UUFDL0QsTUFBTUMsU0FBU1osNERBQVlBLENBQUM7WUFBRWEsU0FBU0w7WUFBU0M7UUFBTztRQUN2REUsUUFBUUMsT0FBT0UsSUFBSSxDQUFDSjtJQUN4QixFQUFFLE9BQU9LLE9BQU87UUFDWixNQUFNQyxlQUFlRCxpQkFBaUJiLFFBQVEsQ0FBQyxDQUFDLEVBQUVhLE1BQU1WLE9BQU8sQ0FBQyxDQUFDLENBQUMsR0FBRztRQUNyRSxNQUFNLElBQUlKLHNCQUNOLEtBQ0EsQ0FBQyxpQ0FBaUMsRUFBRWUsYUFBYSxDQUFDO0lBRTFEO0lBRUEsT0FBT0w7QUFDWCIsInNvdXJjZXMiOlsid2VicGFjazovL0Btb2R1bGFyL2Nvb2tib29rLy4uLy4uL3BhY2thZ2VzL3JlY2lwZS1zZGsvc3JjL3ByZXBhcmVNb2RlbC50cz9iMjExIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZU9wZW5BSSB9IGZyb20gJ0BhaS1zZGsvb3BlbmFpJ1xuXG5leHBvcnQgY2xhc3MgTW9kZWxQcmVwYXJhdGlvbkVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIHN0YXR1czogbnVtYmVyXG5cbiAgICBjb25zdHJ1Y3RvcihzdGF0dXM6IG51bWJlciwgbWVzc2FnZTogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpXG4gICAgICAgIHRoaXMubmFtZSA9ICdNb2RlbFByZXBhcmF0aW9uRXJyb3InXG4gICAgICAgIHRoaXMuc3RhdHVzID0gc3RhdHVzXG4gICAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlTW9kZWxDbGllbnQoXG4gICAgYmFzZVVybDogc3RyaW5nIHwgdW5kZWZpbmVkLFxuICAgIGFwaUtleTogc3RyaW5nIHwgdW5kZWZpbmVkLFxuICAgIG1vZGVsTmFtZTogc3RyaW5nIHwgdW5kZWZpbmVkXG4pIHtcbiAgICBpZiAoIWJhc2VVcmwgfHwgIWFwaUtleSB8fCAhbW9kZWxOYW1lKSB7XG4gICAgICAgIHRocm93IG5ldyBNb2RlbFByZXBhcmF0aW9uRXJyb3IoXG4gICAgICAgICAgICA0MDAsXG4gICAgICAgICAgICAnTXVzdCBwcm92aWRlIGJhc2VVcmwsIGFwaUtleSwgYW5kIG1vZGVsTmFtZSdcbiAgICAgICAgKVxuICAgIH1cblxuICAgIC8vIE9idGFpbiBhbiBPcGVuQUktY29tcGF0aWJsZSBtb2RlbCBwcm92aWRlclxuICAgIGxldCBtb2RlbFxuICAgIHRyeSB7XG4gICAgICAgIC8vIGBvcGVuYWkuY2hhdChtb2RlbClgIHJldHVybnMgYSBtb2RlbCBjaGF0IGNvbXBsZXRpb25zIGhhbmRsZVxuICAgICAgICBjb25zdCBjbGllbnQgPSBjcmVhdGVPcGVuQUkoeyBiYXNlVVJMOiBiYXNlVXJsLCBhcGlLZXkgfSlcbiAgICAgICAgbW9kZWwgPSBjbGllbnQuY2hhdChtb2RlbE5hbWUpXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGAoJHtlcnJvci5tZXNzYWdlfSlgIDogJydcbiAgICAgICAgdGhyb3cgbmV3IE1vZGVsUHJlcGFyYXRpb25FcnJvcihcbiAgICAgICAgICAgIDUwMixcbiAgICAgICAgICAgIGBQcm9ibGVtIG9idGFpbmluZyBtb2RlbCBwcm92aWRlciAke2Vycm9yTWVzc2FnZX1gXG4gICAgICAgIClcbiAgICB9XG5cbiAgICByZXR1cm4gbW9kZWxcbn1cbiJdLCJuYW1lcyI6WyJjcmVhdGVPcGVuQUkiLCJNb2RlbFByZXBhcmF0aW9uRXJyb3IiLCJFcnJvciIsImNvbnN0cnVjdG9yIiwic3RhdHVzIiwibWVzc2FnZSIsIm5hbWUiLCJjcmVhdGVNb2RlbENsaWVudCIsImJhc2VVcmwiLCJhcGlLZXkiLCJtb2RlbE5hbWUiLCJtb2RlbCIsImNsaWVudCIsImJhc2VVUkwiLCJjaGF0IiwiZXJyb3IiLCJlcnJvck1lc3NhZ2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(instrument)/../../packages/recipe-sdk/src/prepareModel.ts\n");

/***/ }),

/***/ "(instrument)/../../packages/recipes/index.ts":
/*!***************************************!*\
  !*** ../../packages/recipes/index.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   recipeRegistry: () => (/* binding */ recipeRegistry)\n/* harmony export */ });\n/* harmony import */ var _src_image_captioning_ui__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./src/image-captioning/ui */ \"(instrument)/../../packages/recipes/src/image-captioning/ui.tsx\");\n/* harmony import */ var _src_image_captioning_api__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./src/image-captioning/api */ \"(instrument)/../../packages/recipes/src/image-captioning/api.ts\");\n/* harmony import */ var _src_multiturn_chat_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./src/multiturn-chat/ui */ \"(instrument)/../../packages/recipes/src/multiturn-chat/ui.tsx\");\n/* harmony import */ var _src_multiturn_chat_api__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/multiturn-chat/api */ \"(instrument)/../../packages/recipes/src/multiturn-chat/api.ts\");\n// Import recipe components\n\n\n\n\nconst recipeRegistry = {\n    \"image-captioning\": {\n        ui: _src_image_captioning_ui__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n        api: _src_image_captioning_api__WEBPACK_IMPORTED_MODULE_1__[\"default\"]\n    },\n    \"multiturn-chat\": {\n        ui: _src_multiturn_chat_ui__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n        api: _src_multiturn_chat_api__WEBPACK_IMPORTED_MODULE_3__[\"default\"]\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGluc3RydW1lbnQpLy4uLy4uL3BhY2thZ2VzL3JlY2lwZXMvaW5kZXgudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFFQSwyQkFBMkI7QUFDOEI7QUFDRTtBQUNOO0FBQ0U7QUFPaEQsTUFBTUksaUJBQW1EO0lBQzVELG9CQUFvQjtRQUNoQkMsSUFBSUwsZ0VBQWlCQTtRQUNyQk0sS0FBS0wsaUVBQWtCQTtJQUMzQjtJQUNBLGtCQUFrQjtRQUNkSSxJQUFJSCw4REFBZUE7UUFDbkJJLEtBQUtILCtEQUFnQkE7SUFDekI7QUFDSixFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQG1vZHVsYXIvY29va2Jvb2svLi4vLi4vcGFja2FnZXMvcmVjaXBlcy9pbmRleC50cz80MWVhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgQ29tcG9uZW50VHlwZSB9IGZyb20gJ3JlYWN0J1xuXG4vLyBJbXBvcnQgcmVjaXBlIGNvbXBvbmVudHNcbmltcG9ydCBJbWFnZUNhcHRpb25pbmdVSSBmcm9tICcuL3NyYy9pbWFnZS1jYXB0aW9uaW5nL3VpJ1xuaW1wb3J0IEltYWdlQ2FwdGlvbmluZ0FQSSBmcm9tICcuL3NyYy9pbWFnZS1jYXB0aW9uaW5nL2FwaSdcbmltcG9ydCBNdWx0aXR1cm5DaGF0VUkgZnJvbSAnLi9zcmMvbXVsdGl0dXJuLWNoYXQvdWknXG5pbXBvcnQgTXVsdGl0dXJuQ2hhdEFQSSBmcm9tICcuL3NyYy9tdWx0aXR1cm4tY2hhdC9hcGknXG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVjaXBlQ29tcG9uZW50cyB7XG4gICAgdWk6IENvbXBvbmVudFR5cGVcbiAgICBhcGk6IChyZXE6IFJlcXVlc3QpID0+IFJlc3BvbnNlIHwgUHJvbWlzZTxSZXNwb25zZT5cbn1cblxuZXhwb3J0IGNvbnN0IHJlY2lwZVJlZ2lzdHJ5OiBSZWNvcmQ8c3RyaW5nLCBSZWNpcGVDb21wb25lbnRzPiA9IHtcbiAgICAnaW1hZ2UtY2FwdGlvbmluZyc6IHtcbiAgICAgICAgdWk6IEltYWdlQ2FwdGlvbmluZ1VJLFxuICAgICAgICBhcGk6IEltYWdlQ2FwdGlvbmluZ0FQSSxcbiAgICB9LFxuICAgICdtdWx0aXR1cm4tY2hhdCc6IHtcbiAgICAgICAgdWk6IE11bHRpdHVybkNoYXRVSSxcbiAgICAgICAgYXBpOiBNdWx0aXR1cm5DaGF0QVBJLFxuICAgIH0sXG59XG4iXSwibmFtZXMiOlsiSW1hZ2VDYXB0aW9uaW5nVUkiLCJJbWFnZUNhcHRpb25pbmdBUEkiLCJNdWx0aXR1cm5DaGF0VUkiLCJNdWx0aXR1cm5DaGF0QVBJIiwicmVjaXBlUmVnaXN0cnkiLCJ1aSIsImFwaSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(instrument)/../../packages/recipes/index.ts\n");

/***/ }),

/***/ "(instrument)/../../packages/recipes/src/image-captioning/api.ts":
/*!**********************************************************!*\
  !*** ../../packages/recipes/src/image-captioning/api.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var ai__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ai */ \"(instrument)/../../node_modules/.pnpm/ai@5.0.60_zod@3.25.76/node_modules/ai/dist/index.mjs\");\n/* harmony import */ var _lib_prepareModel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/prepareModel */ \"(instrument)/./lib/prepareModel.ts\");\n\n\n/*\n * The captioning API mirrors our multi-turn chat route but returns a single\n * string instead of a streaming response. Because Modular MAX speaks the\n * OpenAI-compatible protocol, the Vercel AI SDK can works with Modular MAX\n * out of the box.\n */ // ============================================================================\n// POST /api — generates an image caption\n// ============================================================================\n/** Processes caption requests for either Modular MAX or OpenAI. */ async function POST(req) {\n    const { messages, endpointId, modelName } = await req.json();\n    if (!messages) {\n        return new Response(\"Client did not provide messages\", {\n            status: 400\n        });\n    }\n    let model;\n    try {\n        model = await (0,_lib_prepareModel__WEBPACK_IMPORTED_MODULE_0__.prepareModel)(endpointId, modelName);\n    } catch (error) {\n        const modelError = error;\n        return new Response(modelError.message, {\n            status: modelError.status\n        });\n    }\n    try {\n        const { text } = await (0,ai__WEBPACK_IMPORTED_MODULE_1__.generateText)({\n            // generateText handles the chat-completions format via the Vercel AI SDK.\n            model: model,\n            messages: messages\n        });\n        return Response.json({\n            text\n        });\n    } catch (error) {\n        const errorMessage = error instanceof Error ? `(${error.message})` : \"\";\n        return new Response(`Failed to generate caption ${errorMessage}`, {\n            status: 424\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGluc3RydW1lbnQpLy4uLy4uL3BhY2thZ2VzL3JlY2lwZXMvc3JjL2ltYWdlLWNhcHRpb25pbmcvYXBpLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFpQztBQUN1QztBQUV4RTs7Ozs7Q0FLQyxHQUVELCtFQUErRTtBQUMvRSx5Q0FBeUM7QUFDekMsK0VBQStFO0FBQy9FLGlFQUFpRSxHQUNsRCxlQUFlRSxLQUFLQyxHQUFZO0lBQzNDLE1BQU0sRUFBRUMsUUFBUSxFQUFFQyxVQUFVLEVBQUVDLFNBQVMsRUFBRSxHQUFHLE1BQU1ILElBQUlJLElBQUk7SUFDMUQsSUFBSSxDQUFDSCxVQUFVO1FBQ1gsT0FBTyxJQUFJSSxTQUFTLG1DQUFtQztZQUFFQyxRQUFRO1FBQUk7SUFDekU7SUFFQSxJQUFJQztJQUNKLElBQUk7UUFDQUEsUUFBUSxNQUFNVCwrREFBWUEsQ0FBQ0ksWUFBWUM7SUFDM0MsRUFBRSxPQUFPSyxPQUFPO1FBQ1osTUFBTUMsYUFBYUQ7UUFDbkIsT0FBTyxJQUFJSCxTQUFTSSxXQUFXQyxPQUFPLEVBQUU7WUFBRUosUUFBUUcsV0FBV0gsTUFBTTtRQUFDO0lBQ3hFO0lBRUEsSUFBSTtRQUNBLE1BQU0sRUFBRUssSUFBSSxFQUFFLEdBQUcsTUFBTWQsZ0RBQVlBLENBQUM7WUFDaEMsMEVBQTBFO1lBQzFFVSxPQUFPQTtZQUNQTixVQUFVQTtRQUNkO1FBRUEsT0FBT0ksU0FBU0QsSUFBSSxDQUFDO1lBQUVPO1FBQUs7SUFDaEMsRUFBRSxPQUFPSCxPQUFPO1FBQ1osTUFBTUksZUFBZUosaUJBQWlCSyxRQUFRLENBQUMsQ0FBQyxFQUFFTCxNQUFNRSxPQUFPLENBQUMsQ0FBQyxDQUFDLEdBQUc7UUFDckUsT0FBTyxJQUFJTCxTQUFTLENBQUMsMkJBQTJCLEVBQUVPLGFBQWEsQ0FBQyxFQUFFO1lBQzlETixRQUFRO1FBQ1o7SUFDSjtBQUNKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQG1vZHVsYXIvY29va2Jvb2svLi4vLi4vcGFja2FnZXMvcmVjaXBlcy9zcmMvaW1hZ2UtY2FwdGlvbmluZy9hcGkudHM/ZmUwNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZW5lcmF0ZVRleHQgfSBmcm9tICdhaSdcbmltcG9ydCB7IE1vZGVsUHJlcGFyYXRpb25FcnJvciwgcHJlcGFyZU1vZGVsIH0gZnJvbSAnQC9saWIvcHJlcGFyZU1vZGVsJ1xuXG4vKlxuICogVGhlIGNhcHRpb25pbmcgQVBJIG1pcnJvcnMgb3VyIG11bHRpLXR1cm4gY2hhdCByb3V0ZSBidXQgcmV0dXJucyBhIHNpbmdsZVxuICogc3RyaW5nIGluc3RlYWQgb2YgYSBzdHJlYW1pbmcgcmVzcG9uc2UuIEJlY2F1c2UgTW9kdWxhciBNQVggc3BlYWtzIHRoZVxuICogT3BlbkFJLWNvbXBhdGlibGUgcHJvdG9jb2wsIHRoZSBWZXJjZWwgQUkgU0RLIGNhbiB3b3JrcyB3aXRoIE1vZHVsYXIgTUFYXG4gKiBvdXQgb2YgdGhlIGJveC5cbiAqL1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBQT1NUIC9hcGkg4oCUIGdlbmVyYXRlcyBhbiBpbWFnZSBjYXB0aW9uXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vKiogUHJvY2Vzc2VzIGNhcHRpb24gcmVxdWVzdHMgZm9yIGVpdGhlciBNb2R1bGFyIE1BWCBvciBPcGVuQUkuICovXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcTogUmVxdWVzdCkge1xuICAgIGNvbnN0IHsgbWVzc2FnZXMsIGVuZHBvaW50SWQsIG1vZGVsTmFtZSB9ID0gYXdhaXQgcmVxLmpzb24oKVxuICAgIGlmICghbWVzc2FnZXMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZSgnQ2xpZW50IGRpZCBub3QgcHJvdmlkZSBtZXNzYWdlcycsIHsgc3RhdHVzOiA0MDAgfSlcbiAgICB9XG5cbiAgICBsZXQgbW9kZWxcbiAgICB0cnkge1xuICAgICAgICBtb2RlbCA9IGF3YWl0IHByZXBhcmVNb2RlbChlbmRwb2ludElkLCBtb2RlbE5hbWUpXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc3QgbW9kZWxFcnJvciA9IGVycm9yIGFzIE1vZGVsUHJlcGFyYXRpb25FcnJvclxuICAgICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKG1vZGVsRXJyb3IubWVzc2FnZSwgeyBzdGF0dXM6IG1vZGVsRXJyb3Iuc3RhdHVzIH0pXG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgeyB0ZXh0IH0gPSBhd2FpdCBnZW5lcmF0ZVRleHQoe1xuICAgICAgICAgICAgLy8gZ2VuZXJhdGVUZXh0IGhhbmRsZXMgdGhlIGNoYXQtY29tcGxldGlvbnMgZm9ybWF0IHZpYSB0aGUgVmVyY2VsIEFJIFNESy5cbiAgICAgICAgICAgIG1vZGVsOiBtb2RlbCxcbiAgICAgICAgICAgIG1lc3NhZ2VzOiBtZXNzYWdlcyxcbiAgICAgICAgfSlcblxuICAgICAgICByZXR1cm4gUmVzcG9uc2UuanNvbih7IHRleHQgfSlcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gYCgke2Vycm9yLm1lc3NhZ2V9KWAgOiAnJ1xuICAgICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKGBGYWlsZWQgdG8gZ2VuZXJhdGUgY2FwdGlvbiAke2Vycm9yTWVzc2FnZX1gLCB7XG4gICAgICAgICAgICBzdGF0dXM6IDQyNCxcbiAgICAgICAgfSlcbiAgICB9XG59XG4iXSwibmFtZXMiOlsiZ2VuZXJhdGVUZXh0IiwicHJlcGFyZU1vZGVsIiwiUE9TVCIsInJlcSIsIm1lc3NhZ2VzIiwiZW5kcG9pbnRJZCIsIm1vZGVsTmFtZSIsImpzb24iLCJSZXNwb25zZSIsInN0YXR1cyIsIm1vZGVsIiwiZXJyb3IiLCJtb2RlbEVycm9yIiwibWVzc2FnZSIsInRleHQiLCJlcnJvck1lc3NhZ2UiLCJFcnJvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(instrument)/../../packages/recipes/src/image-captioning/api.ts\n");

/***/ }),

/***/ "(instrument)/../../packages/recipes/src/image-captioning/ui.tsx":
/*!**********************************************************!*\
  !*** ../../packages/recipes/src/image-captioning/ui.tsx ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/build/webpack/loaders/next-flight-loader/module-proxy */ "(instrument)/../../node_modules/.pnpm/next@14.2.33_@opentelemetry+api@1.9.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-flight-loader/module-proxy.js");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`/Users/billw/Developer/max-recipes/genai-cookbook/packages/recipes/src/image-captioning/ui.tsx#default`));


/***/ }),

/***/ "(instrument)/../../packages/recipes/src/multiturn-chat/api.ts":
/*!********************************************************!*\
  !*** ../../packages/recipes/src/multiturn-chat/api.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var ai__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ai */ \"(instrument)/../../node_modules/.pnpm/ai@5.0.60_zod@3.25.76/node_modules/ai/dist/index.mjs\");\n/* harmony import */ var _lib_prepareModel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/prepareModel */ \"(instrument)/./lib/prepareModel.ts\");\n\n\n/*\n * This API route is the bridge between our chat surface and the provider that\n * fulfills each request. Modular MAX exposes an OpenAI-compatible interface, so\n * we can drive Modular MAX through existing Vercel AI SDK helpers.\n *\n * The client passes along the currently selected provider configuration\n * (`baseURL` + `model`). This handler uses that data to stream the assistant\n * response back to the browser in a format that `useChat` can render token by\n * token.\n */ // ============================================================================\n// POST /api route — streams chat completions\n// ============================================================================\n/** Handles chat completions for Modular MAX via compatibility with OpenAI. */ async function POST(req) {\n    const { messages, endpointId, modelName } = await req.json();\n    if (!messages) {\n        return new Response(\"Client did not provide messages\", {\n            status: 400\n        });\n    }\n    let model;\n    try {\n        model = await (0,_lib_prepareModel__WEBPACK_IMPORTED_MODULE_0__.prepareModel)(endpointId, modelName);\n    } catch (error) {\n        const modelError = error;\n        return new Response(modelError.message, {\n            status: modelError.status\n        });\n    }\n    try {\n        const result = (0,ai__WEBPACK_IMPORTED_MODULE_1__.streamText)({\n            model: model,\n            messages: (0,ai__WEBPACK_IMPORTED_MODULE_1__.convertToModelMessages)(messages),\n            // Respect the same stop sequence used by the model.\n            stopSequences: [\n                \"<end_of_turn>\"\n            ]\n        });\n        // Convert the streaming result into the structure the React UI consumes.\n        return result.toUIMessageStreamResponse({\n            originalMessages: messages\n        });\n    } catch (error) {\n        const errorMessage = error instanceof Error ? `(${error.message})` : \"\";\n        return new Response(`Failed to generate caption ${errorMessage}`, {\n            status: 424\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGluc3RydW1lbnQpLy4uLy4uL3BhY2thZ2VzL3JlY2lwZXMvc3JjL211bHRpdHVybi1jaGF0L2FwaS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBdUQ7QUFDaUI7QUFFeEU7Ozs7Ozs7OztDQVNDLEdBRUQsK0VBQStFO0FBQy9FLDZDQUE2QztBQUM3QywrRUFBK0U7QUFDL0UsNEVBQTRFLEdBQzdELGVBQWVHLEtBQUtDLEdBQVk7SUFDM0MsTUFBTSxFQUFFQyxRQUFRLEVBQUVDLFVBQVUsRUFBRUMsU0FBUyxFQUFFLEdBQUcsTUFBTUgsSUFBSUksSUFBSTtJQUMxRCxJQUFJLENBQUNILFVBQVU7UUFDWCxPQUFPLElBQUlJLFNBQVMsbUNBQW1DO1lBQUVDLFFBQVE7UUFBSTtJQUN6RTtJQUVBLElBQUlDO0lBQ0osSUFBSTtRQUNBQSxRQUFRLE1BQU1ULCtEQUFZQSxDQUFDSSxZQUFZQztJQUMzQyxFQUFFLE9BQU9LLE9BQU87UUFDWixNQUFNQyxhQUFhRDtRQUNuQixPQUFPLElBQUlILFNBQVNJLFdBQVdDLE9BQU8sRUFBRTtZQUFFSixRQUFRRyxXQUFXSCxNQUFNO1FBQUM7SUFDeEU7SUFFQSxJQUFJO1FBQ0EsTUFBTUssU0FBU2QsOENBQVVBLENBQUM7WUFDdEJVLE9BQU9BO1lBQ1BOLFVBQVVMLDBEQUFzQkEsQ0FBQ0s7WUFDakMsb0RBQW9EO1lBQ3BEVyxlQUFlO2dCQUFDO2FBQWdCO1FBQ3BDO1FBRUEseUVBQXlFO1FBQ3pFLE9BQU9ELE9BQU9FLHlCQUF5QixDQUFDO1lBQ3BDQyxrQkFBa0JiO1FBQ3RCO0lBQ0osRUFBRSxPQUFPTyxPQUFPO1FBQ1osTUFBTU8sZUFBZVAsaUJBQWlCUSxRQUFRLENBQUMsQ0FBQyxFQUFFUixNQUFNRSxPQUFPLENBQUMsQ0FBQyxDQUFDLEdBQUc7UUFDckUsT0FBTyxJQUFJTCxTQUFTLENBQUMsMkJBQTJCLEVBQUVVLGFBQWEsQ0FBQyxFQUFFO1lBQzlEVCxRQUFRO1FBQ1o7SUFDSjtBQUNKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQG1vZHVsYXIvY29va2Jvb2svLi4vLi4vcGFja2FnZXMvcmVjaXBlcy9zcmMvbXVsdGl0dXJuLWNoYXQvYXBpLnRzPzdmOTkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY29udmVydFRvTW9kZWxNZXNzYWdlcywgc3RyZWFtVGV4dCB9IGZyb20gJ2FpJ1xuaW1wb3J0IHsgcHJlcGFyZU1vZGVsLCBNb2RlbFByZXBhcmF0aW9uRXJyb3IgfSBmcm9tICdAL2xpYi9wcmVwYXJlTW9kZWwnXG5cbi8qXG4gKiBUaGlzIEFQSSByb3V0ZSBpcyB0aGUgYnJpZGdlIGJldHdlZW4gb3VyIGNoYXQgc3VyZmFjZSBhbmQgdGhlIHByb3ZpZGVyIHRoYXRcbiAqIGZ1bGZpbGxzIGVhY2ggcmVxdWVzdC4gTW9kdWxhciBNQVggZXhwb3NlcyBhbiBPcGVuQUktY29tcGF0aWJsZSBpbnRlcmZhY2UsIHNvXG4gKiB3ZSBjYW4gZHJpdmUgTW9kdWxhciBNQVggdGhyb3VnaCBleGlzdGluZyBWZXJjZWwgQUkgU0RLIGhlbHBlcnMuXG4gKlxuICogVGhlIGNsaWVudCBwYXNzZXMgYWxvbmcgdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBwcm92aWRlciBjb25maWd1cmF0aW9uXG4gKiAoYGJhc2VVUkxgICsgYG1vZGVsYCkuIFRoaXMgaGFuZGxlciB1c2VzIHRoYXQgZGF0YSB0byBzdHJlYW0gdGhlIGFzc2lzdGFudFxuICogcmVzcG9uc2UgYmFjayB0byB0aGUgYnJvd3NlciBpbiBhIGZvcm1hdCB0aGF0IGB1c2VDaGF0YCBjYW4gcmVuZGVyIHRva2VuIGJ5XG4gKiB0b2tlbi5cbiAqL1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBQT1NUIC9hcGkgcm91dGUg4oCUIHN0cmVhbXMgY2hhdCBjb21wbGV0aW9uc1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLyoqIEhhbmRsZXMgY2hhdCBjb21wbGV0aW9ucyBmb3IgTW9kdWxhciBNQVggdmlhIGNvbXBhdGliaWxpdHkgd2l0aCBPcGVuQUkuICovXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcTogUmVxdWVzdCkge1xuICAgIGNvbnN0IHsgbWVzc2FnZXMsIGVuZHBvaW50SWQsIG1vZGVsTmFtZSB9ID0gYXdhaXQgcmVxLmpzb24oKVxuICAgIGlmICghbWVzc2FnZXMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZSgnQ2xpZW50IGRpZCBub3QgcHJvdmlkZSBtZXNzYWdlcycsIHsgc3RhdHVzOiA0MDAgfSlcbiAgICB9XG5cbiAgICBsZXQgbW9kZWxcbiAgICB0cnkge1xuICAgICAgICBtb2RlbCA9IGF3YWl0IHByZXBhcmVNb2RlbChlbmRwb2ludElkLCBtb2RlbE5hbWUpXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc3QgbW9kZWxFcnJvciA9IGVycm9yIGFzIE1vZGVsUHJlcGFyYXRpb25FcnJvclxuICAgICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKG1vZGVsRXJyb3IubWVzc2FnZSwgeyBzdGF0dXM6IG1vZGVsRXJyb3Iuc3RhdHVzIH0pXG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gc3RyZWFtVGV4dCh7XG4gICAgICAgICAgICBtb2RlbDogbW9kZWwsXG4gICAgICAgICAgICBtZXNzYWdlczogY29udmVydFRvTW9kZWxNZXNzYWdlcyhtZXNzYWdlcyksXG4gICAgICAgICAgICAvLyBSZXNwZWN0IHRoZSBzYW1lIHN0b3Agc2VxdWVuY2UgdXNlZCBieSB0aGUgbW9kZWwuXG4gICAgICAgICAgICBzdG9wU2VxdWVuY2VzOiBbJzxlbmRfb2ZfdHVybj4nXSxcbiAgICAgICAgfSlcblxuICAgICAgICAvLyBDb252ZXJ0IHRoZSBzdHJlYW1pbmcgcmVzdWx0IGludG8gdGhlIHN0cnVjdHVyZSB0aGUgUmVhY3QgVUkgY29uc3VtZXMuXG4gICAgICAgIHJldHVybiByZXN1bHQudG9VSU1lc3NhZ2VTdHJlYW1SZXNwb25zZSh7XG4gICAgICAgICAgICBvcmlnaW5hbE1lc3NhZ2VzOiBtZXNzYWdlcyxcbiAgICAgICAgfSlcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gYCgke2Vycm9yLm1lc3NhZ2V9KWAgOiAnJ1xuICAgICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKGBGYWlsZWQgdG8gZ2VuZXJhdGUgY2FwdGlvbiAke2Vycm9yTWVzc2FnZX1gLCB7XG4gICAgICAgICAgICBzdGF0dXM6IDQyNCxcbiAgICAgICAgfSlcbiAgICB9XG59XG4iXSwibmFtZXMiOlsiY29udmVydFRvTW9kZWxNZXNzYWdlcyIsInN0cmVhbVRleHQiLCJwcmVwYXJlTW9kZWwiLCJQT1NUIiwicmVxIiwibWVzc2FnZXMiLCJlbmRwb2ludElkIiwibW9kZWxOYW1lIiwianNvbiIsIlJlc3BvbnNlIiwic3RhdHVzIiwibW9kZWwiLCJlcnJvciIsIm1vZGVsRXJyb3IiLCJtZXNzYWdlIiwicmVzdWx0Iiwic3RvcFNlcXVlbmNlcyIsInRvVUlNZXNzYWdlU3RyZWFtUmVzcG9uc2UiLCJvcmlnaW5hbE1lc3NhZ2VzIiwiZXJyb3JNZXNzYWdlIiwiRXJyb3IiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(instrument)/../../packages/recipes/src/multiturn-chat/api.ts\n");

/***/ }),

/***/ "(instrument)/../../packages/recipes/src/multiturn-chat/ui.tsx":
/*!********************************************************!*\
  !*** ../../packages/recipes/src/multiturn-chat/ui.tsx ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/build/webpack/loaders/next-flight-loader/module-proxy */ "(instrument)/../../node_modules/.pnpm/next@14.2.33_@opentelemetry+api@1.9.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-flight-loader/module-proxy.js");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`/Users/billw/Developer/max-recipes/genai-cookbook/packages/recipes/src/multiturn-chat/ui.tsx#default`));


/***/ })

};
;